<!-- title -->
{{ $title := site.Title }}
<!-- checking page meta title -->
{{ if .Params.meta_title }}
  {{ $title = .Params.meta_title }}
  <!-- checking page title -->
{{ else if .Params.title }}
  {{ $title = .Params.title }}
{{ end }}

{{ if not $title }}
  {{ $title = .Title }}
{{ end }}

<title>{{ $title }}</title>

<!-- Robots -->
<!-- meta noindex -->
{{ if .Params.noindex }}
  <meta name="robots" content="noindex,nofollow" />
{{ else }}
  <meta name="robots" content="index,follow" />
{{ end }}

<!-- meta canonical -->
{{ with .Params.canonical }}
  <link rel="canonical" href="{{ . }}" />
{{ else }}
  <link rel="canonical" href="{{ .Permalink | absURL }}" />
{{ end }}

<!-- meta keywords -->
{{ if .Params.keywords }}
  <meta name="keywords" content="{{ delimit .Params.keywords `, ` }}" />
{{ else if site.Params.metadata.keywords }}
  <meta
    name="keywords"
    content="{{ delimit site.Params.metadata.keywords `, ` }}" />
{{ end }}

<!-- meta author -->
{{ with site.Params.metadata.author }}
  <meta name="author" content="{{ . }}" />
{{ end }}

<!-- checking og description -->
{{ $description := .Summary }}
{{ if .Params.meta_description }}
  {{ $description = .Params.meta_description }}
  <!-- checking page description -->
{{ else if .Params.description }}
  {{ $description = .Params.description }}
  <!-- checking page description -->
{{ else if site.Params.metadata.description }}
  {{ $description = site.Params.metadata.description }}
{{ end }}

<!-- meta description -->
<meta
  name="description"
  content="{{ $description | plainify | safeHTMLAttr }}" />

<!-- ######### Opengraph and Twitter image meta ############## -->

{{ $imagePath := "" }}

{{ if .Params.meta_image }}
  {{ $imagePath = .Params.meta_image }}
{{ else if .Params.images }}
  {{ $imagePath = index .Params.images 0 }}
{{ else if .Params.image }}
  {{ $imagePath = .Params.image }}
{{ else }}
  {{ $imagePath = site.Params.metadata.image }}
{{ end }}

{{ $image := false }}

<!-- External image -->
{{ if hasPrefix $imagePath "http" }}

  <meta property="og:image" content="{{ $imagePath }}" />
  <meta name="twitter:image" content="{{ $imagePath }}" />
  <meta name="twitter:card" content="summary_large_image" />

{{ else }}

  <!-- Try page bundle -->
  {{ with .Resources.GetMatch $imagePath }}
    {{ $image = . }}
  {{ end }}

  <!-- Try assets folder -->
  {{ if not $image }}
    {{ with resources.Get $imagePath }}
      {{ $image = . }}
    {{ end }}
  {{ end }}

  {{ if $image }}
    {{ $og := $image.Fill "1200x630 jpg q85" }}

    <meta property="og:image" content="{{ $og.Permalink }}" />
    <meta name="twitter:image" content="{{ $og.Permalink }}" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta property="og:image:width" content="{{ $og.Width }}" />
    <meta property="og:image:height" content="{{ $og.Height }}" />
    <meta property="og:image:type" content="image/jpeg" />
  {{ end }}

{{ end }}

<!-- ######### /Opengraph and Twitter image meta ############## -->

<!-- ######### opengraph others meta ############## -->
<meta property="og:title" content="{{ $title }}" />
<meta property="og:description" content="{{ $description | plainify | safeHTMLAttr }}" />
<meta property="og:type" content="website" />
<meta property="og:url" content="{{ .Permalink | absURL }}" />
<meta property="og:site_name" content="{{ site.Title }}" />
<meta property="og:locale" content="{{ site.Language.Lang | default "en_US" }}" />
{{ with site.Params.metadata.image_alt }}
  <meta property="og:image:alt" content="{{ . | plainify }}" />
{{ end }}
<!-- ########## twitter others meta ############### -->
<meta name="twitter:title" content="{{ $title }}" />
<meta name="twitter:description" content="{{ $description | plainify | safeHTMLAttr }}" />
<meta name="twitter:url" content="{{ .Permalink | absURL }}">

{{ with site.Params.metadata.twitter }}
  <meta name="twitter:site" content="@{{ . }}" />
{{ end }}
{{ with site.Params.metadata.twitter_author }}
  <meta name="twitter:creator" content="@{{ . }}" />
{{ end }}

<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "{{ if .IsHome }}Organization{{ else }}WebPage{{ end }}",
    "@id": {{ if .IsHome }}
      "https://ibsportsacademy.com/#organization"
    {{ else }}
      {{ print (.Permalink | absURL) "#webpage" | jsonify }}
    {{ end }},
    "name": {{ $title | plainify | jsonify }},
    "url": {{ .Permalink | absURL | jsonify }},
    "description": {{ $description | plainify | jsonify }},
    "inLanguage": "{{ site.Language.Lang | default "en" }}"
    {{ if not .IsHome }},
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": {{ .Permalink | absURL | jsonify }}
    }
    {{ end }}
    {{ if .IsHome }},
    "logo": "https://ibsportsacademy.com/images/logo.png",
    "image": "https://ibsportsacademy.com/images/logo.png",
    "telephone": "+918860500060",
    "areaServed": [
      { "@type": "City", "name": "Delhi" },
      { "@type": "City", "name": "Gurugram" }
    ],
    "sameAs": [
      "https://www.instagram.com/ibsportsacademy",
      "https://www.instagram.com/ibsportsfoundation",
      "https://www.facebook.com/ibsportsacademy"
    ]
    {{ end }}
  }
  </script>

<meta http-equiv="X-UA-Compatible" content="IE=edge" />

<!-- Theme color branding Android Chrome Browser color -->
<meta name="theme-color" content="#FE6019" />